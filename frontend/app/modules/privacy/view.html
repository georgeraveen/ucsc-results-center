<div class="container privacy-page">

    <div class="card loader" ng-if="loadingData">
        <loading-indicator loader-text="loaderText"></loading-indicator>
    </div>

    <div class="card" ng-if="!loadingData && verfiedUser">
        <h2>Privacy Settings</h2>
        <br>
        <div class="alert alert-success" role="alert" ng-if="saved">
            Your privacy setting has being <b>updated!</b>.
        </div>
        <md-radio-group ng-model="data.privacyValue">
            <md-radio-button value="public" class="md-primary">Public - Anyone registered in the system can view your profile.</md-radio-button>
            <md-radio-button value="shared" class="md-primary">Shared - Only your batch mates can view your profile</md-radio-button>
            <md-radio-button value="private" class="md-primary">Private - Only you can view your profile</md-radio-button>
        </md-radio-group>
        <div class="alert alert-warning" role="alert">
            <b>Important Notice!</b> Regardless of what your Privacy setting is set to, System Administrators and Analytic Users can view your complete profile.
            If you are not okay with this you are given the opportunity to delete your account and disassociate your Facebook profile from you index number.
        </div>
        <h5>Show who you are</h5>
        <md-checkbox ng-model="data.showCase" aria-label="Show user information">
            Show my information on my profile page
        </md-checkbox>
        <p>This will display your name in your profile overview, ranking list and the global search. People will be able to search you by name.</p>
        <div class="alert alert-info" role="alert">
            This only works with the people who you have decided to share your profile with depending on whether its Public, Shared or Private.
        </div>
        <md-card-actions layout="row" layout-align="end center">
            <md-button
                    ng-click="save()"
                    class="md-raised md-primary"
                    ng-disabled="savingData">
                {{ savingData ? 'Saving' : 'Save' }}
            </md-button>
        </md-card-actions>
    </div>
    <br/>
    <div class="card" ng-if="!loadingData">
        <h2>Permanently delete account</h2>
        <div class="alert alert-danger" role="alert">
            By deleting your account you can delete all the data collected by the system from your Facebook account. If there is any index number associated with your Facebook account it will be freed, and it's privacy will be set to <b>Public</b>
            This deletion does not delete your examination results from the system. And It will take upto 1 month to discard all your data in our backups.
            <br>
            <br>
            <b>Whats deleted:</b>
            <ul>
                <li>Data Collected from your Facebook account</li>
            </ul>
            <b>Whats NOT deleted:</b>
            <ul>
                <li>Your examination results</li>
            </ul>
        </div>

        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteAccountConfirmation">
            Delete My Account
        </button>
    </div>
    <div class="modal fade" id="deleteAccountConfirmation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Account Deletion Confirmation</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    You are about to delete your account. No other confirmations will be requested beyond this point. Are you sure that you want to delete your account from the system?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" ng-click="deleteAccount()" data-dismiss="modal">Yes, Delete my account</button>
                </div>
            </div>
        </div>
    </div>
</div>